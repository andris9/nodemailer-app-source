<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />

        <link rel="stylesheet" href="../../css/photon.min.css" />
        <link rel="stylesheet" href="../../css/forensicat.css" />
        <link rel="stylesheet" href="../../css/file-icons/style.css" />

        <meta http-equiv="Content-Security-Policy" content="script-src 'self';" />
    </head>
    <body>
        <div class="window">
            <!-- .toolbar-header sits at the top of your app -->

            <header class="toolbar toolbar-header">
                <div class="toolbar-actions">
                    <!-- import -->

                    <button class="btn btn-default import-button-group" id="imports-import-menu">
                        <span class="icon icon-plus-circled"></span>
                    </button>

                    <!-- contacts -->

                    <div class="btn-group hidden contacts-button-group">
                        <button class="btn btn-default" id="contacts-reload">
                            <span class="icon icon-ccw"></span>
                        </button>
                        <button class="btn btn-default" id="contacts-search">
                            <span class="icon icon-search"></span>
                        </button>
                        <button class="btn btn-default hidden" id="contacts-search-clear">
                            Clear Search
                        </button>
                    </div>

                    <!-- attachments -->

                    <div class="btn-group hidden attachments-component">
                        <button class="btn btn-default" id="attachments-reload">
                            <span class="icon icon-ccw"></span>
                        </button>
                        <button class="btn btn-default" id="attachments-search">
                            <span class="icon icon-search"></span>
                        </button>
                        <button class="btn btn-default hidden" id="attachments-search-clear">
                            Clear Search
                        </button>
                    </div>

                    <!-- emails -->

                    <div class="btn-group hidden emails-component">
                        <button class="btn btn-default" id="emails-reload">
                            <span class="icon icon-ccw"></span>
                        </button>
                        <button class="btn btn-default" id="emails-search">
                            <span class="icon icon-search"></span>
                        </button>
                        <button class="btn btn-default hidden" id="emails-search-clear">
                            Clear Search
                        </button>
                    </div>

                    <!-- server -->

                    <button class="btn btn-default hidden server-component" id="server-info-menu">
                        <span class="icon icon-info-circled"></span>
                    </button>

                    <!-- contacts -->

                    <div class="btn-group hidden contacts-button-group pull-right">
                        <button class="btn btn-default" id="contacts-page-prev">
                            <span class="icon icon-left-circled"></span>
                        </button>
                        <button class="btn btn-default" id="contacts-page-next">
                            <span class="icon icon-right-circled"></span>
                        </button>
                    </div>

                    <div class="hidden contacts-button-group pull-right toolbar-text">
                        Page <span id="contacts-page-nr">0</span> of
                        <span id="contacts-page-total">0</span>
                    </div>

                    <div class=" pull-right hidden contacts-button-group">
                        <div id="contacts-search-block" class="pull-right hidden toolbar-text" style="margin-right:5px;">
                            Searching for "<span id="contacts-search-term"></span>."
                        </div>
                    </div>

                    <!-- attachments -->

                    <div class="btn-group hidden attachments-component pull-right">
                        <button class="btn btn-default" id="attachments-page-prev">
                            <span class="icon icon-left-circled"></span>
                        </button>
                        <button class="btn btn-default" id="attachments-page-next">
                            <span class="icon icon-right-circled"></span>
                        </button>
                    </div>

                    <div class="hidden attachments-component pull-right toolbar-text">
                        Page <span id="attachments-page-nr">0</span> of
                        <span id="attachments-page-total">0</span>
                    </div>

                    <div class=" pull-right hidden attachments-component">
                        <div id="attachments-search-block" class="pull-right hidden toolbar-text" style="margin-right:5px;">
                            Searching for <span id="attachments-search-term"></span>.
                        </div>
                    </div>

                    <!-- emails -->

                    <div class="btn-group hidden emails-component pull-right">
                        <button class="btn btn-default" id="emails-page-prev">
                            <span class="icon icon-left-circled"></span>
                        </button>
                        <button class="btn btn-default" id="emails-page-next">
                            <span class="icon icon-right-circled"></span>
                        </button>
                    </div>

                    <div class="hidden emails-component pull-right toolbar-text">
                        Page <span id="emails-page-nr">0</span> of
                        <span id="emails-page-total">0</span>
                    </div>

                    <div class=" pull-right hidden emails-component">
                        <div id="emails-search-block" class="pull-right hidden toolbar-text" style="margin-right:5px;">
                            Searching for <span id="emails-search-term"></span>.
                        </div>
                    </div>
                </div>
            </header>

            <!-- Your app's content goes inside .window-content -->
            <div class="window-content">
                <div class="pane-group">
                    <div class="pane-sm sidebar">
                        <nav class="nav-group">
                            <span class="nav-group-item page-menu" data-target="emails" id="page-menu-emails">
                                <span class="icon icon-mail"></span>
                                Emails
                            </span>
                            <span class="nav-group-item page-menu" data-target="attachments" id="page-menu-attachments">
                                <span class="icon icon-picture"></span>
                                Attachments
                            </span>
                            <span class="nav-group-item page-menu" data-target="contacts" id="page-menu-contacts">
                                <span class="icon icon-users"></span>
                                Contacts
                            </span>
                            <a class="nav-group-item page-menu" data-target="imports" id="page-menu-imports">
                                <span class="icon icon-download"></span>
                                Imports
                            </a>

                            <a class="nav-group-item page-menu" data-target="server" id="page-menu-server">
                                <span class="icon icon-database"></span>
                                Local Server
                            </a>
                        </nav>
                    </div>

                    <div class="pane" id="middle-pane">
                        <div id="page-emails" class="hidden">
                            <table class="table-striped" style="table-layout: fixed;">
                                <thead>
                                    <tr>
                                        <th width="70px" class="text-right">#</th>
                                        <th width="35%">From</th>
                                        <th>Subject</th>
                                    </tr>
                                </thead>
                                <tbody class="enumerable-list" id="emails-list"></tbody>
                            </table>
                        </div>

                        <div id="page-attachments" class="hidden">
                            <table class="table-striped" style="table-layout: fixed;">
                                <thead>
                                    <tr>
                                        <th width="70px" class="text-right">#</th>
                                        <th>Filename</th>
                                        <th width="30%">Size</th>
                                    </tr>
                                </thead>
                                <tbody class="enumerable-list" id="attachments-list"></tbody>
                            </table>
                        </div>

                        <div id="page-imports" class="hidden">
                            <table class="table-striped">
                                <thead>
                                    <tr>
                                        <th>Created</th>
                                        <th>Imported</th>
                                        <th>Size</th>
                                        <th>Progress</th>
                                        <th>Run time</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody class="enumerable-list" id="import-list"></tbody>
                            </table>
                        </div>

                        <div id="page-contacts" class="hidden">
                            <table class="table-striped" style="table-layout: fixed;">
                                <thead>
                                    <tr>
                                        <th width="70px" class="text-right">#</th>
                                        <th width="35%">Name</th>
                                        <th>Address</th>
                                        <th width="13%">References</th>
                                    </tr>
                                </thead>
                                <tbody class="enumerable-list" id="contacts-list"></tbody>
                            </table>
                        </div>

                        <div id="page-server" class="hidden">
                            <div id="server-tab" class="tab-group">
                                <div id="server-tab-overview" class="tab-item">
                                    Overview
                                </div>
                                <div id="server-tab-smtp-logs" class="tab-item">
                                    SMTP Logs
                                </div>
                                <div id="server-tab-pop3-logs" class="tab-item">
                                    POP3 Logs
                                </div>
                            </div>

                            <div id="server-tab-overview-content" class="padded-sides hidden">
                                <div class="padded-more">
                                    <h4>Local Server</h4>

                                    <p>
                                        Hook up your e-mail client to add or download messages from this project.
                                    </p>

                                    <div style="max-width: 600px;">
                                        <dl class="info-dl">
                                            <dt>Server status</dt>
                                            <dd>
                                                Server is currently
                                                <span class="icon icon-record status-red" id="server-status-record"></span>
                                                <span id="server-status-text">stopped</span>.
                                            </dd>
                                        </dl>
                                    </div>

                                    <fieldset>
                                        <legend>SMTP</legend>

                                        <div style="display: flex; flex-direction: row; align-items: center;">
                                            <div>
                                                <p style="text-align: justify;">
                                                    Use SMTP to add new emails to this project. Messages sent via SMTP end up only in this project and are not
                                                    delivered to actual recipients. You can use this feature to preview emails before these are actually sent.
                                                </p>
                                                <div style="max-width: 600px;">
                                                    <dl class="info-dl">
                                                        <dt>Hostname</dt>
                                                        <dd>
                                                            <code class="field-select">localhost</code>
                                                        </dd>

                                                        <dt>Port</dt>
                                                        <dd><code class="field-select server-smtp-port-value"></code></dd>

                                                        <dt>Username</dt>
                                                        <dd>
                                                            <code class="field-select server-user-value"></code>
                                                        </dd>

                                                        <dt>Password</dt>
                                                        <dd>
                                                            <code class="field-select server-password-value"></code>
                                                        </dd>

                                                        <dt>TLS/SSL</dt>
                                                        <dd>
                                                            <code class="field-select">None</code>
                                                        </dd>
                                                    </dl>
                                                </div>
                                            </div>
                                            <div>
                                                <div style="margin-left: 40px; padding: 15px; border: none; background-color: #fafafa; border-radius: 4px;">
                                                    <h5>Nodemailer configuration example</h5>
                                                    <pre class="text-select">
const transporter = nodemailer.createTransport({
    host: 'localhost',
    port: <span class="server-smtp-port-value text-select"></span>,
    auth: {
        user: '<span class="server-user-value text-select"></span>',
        pass: '<span class="server-password-value text-select"></span>'
    }
});
</pre>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>

                                    <fieldset>
                                        <legend>POP3</legend>
                                        <p>Use POP3 to read emails added to this project.</p>

                                        <div style="max-width: 600px;">
                                            <dl class="info-dl">
                                                <dt>Hostname</dt>
                                                <dd>
                                                    <code class="field-select">localhost</code>
                                                </dd>

                                                <dt>Port</dt>
                                                <dd><code class="field-select server-pop3-port-value"></code></dd>

                                                <dt>Username</dt>
                                                <dd>
                                                    <code class="field-select server-user-value"></code>
                                                </dd>

                                                <dt>Password</dt>
                                                <dd>
                                                    <code class="field-select server-password-value"></code>
                                                </dd>

                                                <dt>TLS/SSL</dt>
                                                <dd>
                                                    <code class="field-select">None</code>
                                                </dd>
                                            </dl>
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                            <div id="server-tab-smtp-logs-content" class="padded-sides hidden">
                                <table class="table-striped" style="table-layout: fixed;">
                                    <thead>
                                        <tr>
                                            <th style="width: 200px;">Date</th>
                                            <th style="width: 160px;">Session</th>
                                            <th>Message</th>
                                        </tr>
                                    </thead>
                                    <tbody class="enumerable-list" id="server-smtp-logs-list"></tbody>
                                </table>
                            </div>
                            <div id="server-tab-pop3-logs-content" class="padded-sides hidden">
                                <table class="table-striped" style="table-layout: fixed;">
                                    <thead>
                                        <tr>
                                            <th style="width: 200px;">Date</th>
                                            <th style="width: 160px;">Session</th>
                                            <th>Message</th>
                                        </tr>
                                    </thead>
                                    <tbody class="enumerable-list" id="server-pop3-logs-list"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="pane attachments-component hidden">
                        <div id="attachment-info" class="full-height hidden">
                            <div class="padded-more">
                                <div class="attachment-preview-container center-block hidden" id="attachment-icon">
                                    <div class="file-icon file-icon--medium" data-file="webp"></div>
                                </div>

                                <div class="attachment-preview-container center-block hidden" id="attachment-preview">
                                    <img
                                        src="data:image/webp;base64,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"
                                    />
                                </div>

                                <dl class="info-dl" id="attachment-info-list"></dl>

                                <div class="center-block">
                                    <div class="btn-group">
                                        <button class="btn btn-default" id="attachment-action-show">Show message</button>
                                        <button class="btn btn-default" id="attachment-action-open">Open file</button>
                                        <button class="btn btn-default" id="attachment-action-save">Save file</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div
                            id="attachment-missing"
                            class="center-block hidden  full-height"
                            style="background-image: url('../../assets/envelope.png'); background-repeat: no-repeat; background-position: center;filter: grayscale(100%);opacity: 0.3; "
                        ></div>
                    </div>

                    <div class="pane emails-component hidden">
                        <div id="email-info" class="full-height hidden">
                            <div id="email-tab" class="tab-group">
                                <div id="email-tab-html" class="tab-item">
                                    Rich text
                                </div>
                                <div id="email-tab-plain" class="tab-item">
                                    Plain text
                                </div>
                                <div id="email-tab-html-source" class="tab-item">
                                    HTML
                                </div>
                                <div id="email-tab-headers" class="tab-item">
                                    Headers
                                </div>
                                <div id="email-tab-files" class="tab-item">
                                    Files
                                </div>
                            </div>
                            <div class="padded-contain">
                                <dl class="info-dl" id="email-info-list"></dl>

                                <div class="center-block" style="margin-bottom: 5px;">
                                    <div class="btn-group" id="email-action-buttons">
                                        <button class="btn btn-default" id="email-action-pdf">Export PDF</button>
                                        <button class="btn btn-default" id="email-action-save">Save original</button>
                                        <button class="btn btn-default" id="email-action-upload">Upload to server</button>
                                        <button class="btn btn-default" id="email-action-external">Load external content</button>
                                    </div>
                                </div>
                            </div>

                            <div id="email-tab-html-content" class="padded-sides hidden"></div>
                            <div id="email-tab-plain-content" class="padded-sides hidden"></div>
                            <div id="email-tab-html-source-content" class="padded-sides hidden"></div>
                            <div id="email-tab-headers-content" class="padded-sides hidden"></div>
                            <div id="email-tab-files-content" class="hidden">
                                <table class="table-striped" style="table-layout: fixed;">
                                    <tbody id="email-file-list"></tbody>
                                </table>
                            </div>
                        </div>

                        <div
                            id="email-missing"
                            class="center-block hidden  full-height"
                            style="background-image: url('../../assets/envelope.png'); background-repeat: no-repeat; background-position: center;filter: grayscale(100%);opacity: 0.3; "
                        ></div>
                    </div>
                </div>
            </div>
        </div>

        <script src="../../js/renderer.js" charset="utf-8"></script>
        <script src="../../js/selectable.js" charset="utf-8"></script>
        <script src="../../js/tabs.js" charset="utf-8"></script>

        <script type="text/javascript" src="../../js/purify/purify.min.js"></script>
        <script type="text/javascript" src="../../js/purify/config.js"></script>

        <script src="./import-page.js" charset="utf-8"></script>
        <script src="./contacts-page.js" charset="utf-8"></script>
        <script src="./attachments-page.js" charset="utf-8"></script>
        <script src="./emails-page.js" charset="utf-8"></script>
        <script src="./page.js" charset="utf-8"></script>
    </body>
</html>
